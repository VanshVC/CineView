<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My List - CineView</title>
    <link rel="stylesheet" href="src/styles/theme-reset.css">
    <link rel="stylesheet" href="src/styles/theme.css">
    <link rel="stylesheet" href="src/styles/main.css">
    <link rel="stylesheet" href="src/styles/modal.css">
    <link rel="stylesheet" href="src/styles/mylist.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Diagnostic script to catch errors -->
    <script>
    window.addEventListener('error', function(e) {
        console.error('Global error:', e.message, 'at', e.filename, ':', e.lineno);
    });
    
    window.addEventListener('unhandledrejection', function(e) {
        console.error('Unhandled Promise Rejection:', e.reason);
    });
    </script>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg"></div>

    <!-- Header Section -->
    <header>
        <nav>
            <div class="logo">
                <h1>CineView</h1>
            </div>
            <div class="nav-links">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="movies.html">Movies</a></li>
                    <li><a href="tvshows.html">TV Shows</a></li>
                    <li><a href="mylist.html" class="active">My List</a></li>
                    <li><a href="search.html">Search</a></li>
                </ul>
            </div>
            <div class="nav-buttons">
                <button class="search-btn"><i class="fas fa-search"></i></button>
                <button class="login-btn" id="loginBtn">Log In</button>
                <button class="signup-btn" id="signupBtn">Sign Up</button>
            </div>
            <button class="mobile-menu-btn"><i class="fas fa-bars"></i></button>
        </nav>
    </header>

    <!-- Search Container -->
    <div class="search-container" id="searchContainer">
        <form class="search-form">
            <input type="text" id="searchInput" class="search-input" placeholder="Search for movies, TV shows...">
            <button type="submit" class="search-submit"><i class="fas fa-search"></i></button>
        </form>
        <div class="search-results" id="searchResults">
            <!-- Search results will be populated here -->
        </div>
    </div>

    <!-- My List Banner -->
    <section class="page-banner">
        <div class="banner-content">
            <h1>My List</h1>
            <p>Your personal collection of favorite movies and TV shows</p>
        </div>
    </section>

    <!-- My List Content -->
    <section class="mylist-section">
        <div class="list-controls">
            <div class="list-sort">
                <label for="sort-by">Sort by:</label>
                <select id="sort-by">
                    <option value="date-added">Date Added</option>
                    <option value="alphabetical">Alphabetical</option>
                    <option value="rating">Rating</option>
                </select>
            </div>
            <div class="list-filter">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="movies">Movies</button>
                <button class="filter-btn" data-filter="tvshows">TV Shows</button>
            </div>
        </div>

        <div id="emptyList" class="empty-list-message" style="display: none;">
            <div class="empty-content">
                <i class="fas fa-folder-open fa-4x"></i>
                <h2>Your list is empty</h2>
                <p>Add movies and TV shows to your list by clicking the "+" button on any title</p>
                <a href="index.html" class="browse-btn">Browse Content</a>
            </div>
        </div>

        <div id="myListContent" class="my-list-grid">
            <!-- Will be populated with saved items -->
            <div class="content-card" data-type="movie" data-id="1">
                <div class="card-image">
                    <img src="https://image.tmdb.org/t/p/w500/qhb1qOilapbapxWQn9jtRCL7QzX.jpg" alt="The Last Action">
                    <div class="card-overlay">
                        <div class="card-actions">
                            <button class="play-btn"><i class="fas fa-play"></i> Play</button>
                            <button class="remove-btn" data-id="1"><i class="fas fa-times"></i> Remove</button>
                        </div>
                    </div>
                </div>
                <div class="card-info">
                    <h3 class="title">The Last Action</h3>
                    <p>Added: Aug 15, 2023</p>
                    <p>Type: Movie</p>
                </div>
            </div>
            <div class="content-card" data-type="tvshow" data-id="2">
                <div class="card-image">
                    <img src="https://image.tmdb.org/t/p/w500/reEMJA1uzscCbkpeRJeTT2bjqUp.jpg" alt="Detective Chronicles">
                    <div class="card-overlay">
                        <div class="card-actions">
                            <button class="play-btn"><i class="fas fa-play"></i> Play</button>
                            <button class="remove-btn" data-id="2"><i class="fas fa-times"></i> Remove</button>
                        </div>
                    </div>
                </div>
                <div class="card-info">
                    <h3 class="title">Detective Chronicles</h3>
                    <p>Added: Aug 12, 2023</p>
                    <p>Type: TV Show</p>
                </div>
            </div>
            <div class="content-card" data-type="tvshow" data-id="3">
                <div class="card-image">
                    <img src="https://image.tmdb.org/t/p/w500/7Bn6tVlG8gCR1CJT7ibJKZbUMh7.jpg" alt="Royal Dynasty">
                    <div class="card-overlay">
                        <div class="card-actions">
                            <button class="play-btn"><i class="fas fa-play"></i> Play</button>
                            <button class="remove-btn" data-id="3"><i class="fas fa-times"></i> Remove</button>
                        </div>
                    </div>
                </div>
                <div class="card-info">
                    <h3 class="title">Royal Dynasty</h3>
                    <p>Added: Aug 10, 2023</p>
                    <p>Type: TV Show</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <span class="close-btn" id="loginCloseBtn">&times;</span>
            <h2>Log In to CineView</h2>
            <p>Welcome back to your entertainment journey.</p>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email Address</label>
                    <input type="email" id="loginEmail" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" placeholder="Enter your password" required>
                </div>
                <div class="form-group remember-me">
                    <input type="checkbox" id="rememberMe">
                    <label for="rememberMe">Remember me</label>
                    <a href="#" class="forgot-password">Forgot Password?</a>
                </div>
                <button type="submit" class="submit-btn">Log In</button>
            </form>
            <div class="modal-footer">
                <p>Don't have an account? <a href="#" id="switchToSignup">Sign Up</a></p>
            </div>
        </div>
    </div>

    <!-- Sign Up Modal -->
    <div class="modal" id="signupModal">
        <div class="modal-content">
            <span class="close-btn" id="signupCloseBtn">&times;</span>
            <h2>Sign Up for CineView</h2>
            <p>Start your entertainment journey today.</p>
            <form id="signupForm">
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" placeholder="Enter your full name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Create a password" required>
                </div>
                <div class="form-group">
                    <label for="plan">Select Plan</label>
                    <select id="plan" required>
                        <option value="">Choose your plan</option>
                        <option value="basic">Basic - $9.99/month</option>
                        <option value="standard">Standard - $14.99/month</option>
                        <option value="premium">Premium - $19.99/month</option>
                    </select>
                </div>
                <button type="submit" class="submit-btn">Create Account</button>
            </form>
            <div class="modal-footer">
                <p>Already have an account? <a href="#" id="switchToLogin">Log In</a></p>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification">
        <p>New releases added to your watchlist!</p>
        <span class="notification-close"><i class="fas fa-times"></i></span>
    </div>

    <!-- Footer -->
    <footer class="site-footer glass-card">
        <div class="footer-content">
            <div class="footer-logo">
                <h2>CineView</h2>
                <p>Your ultimate streaming destination</p>
            </div>
            <div class="footer-links">
                <div class="footer-column">
                    <h3>Navigation</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="movies.html">Movies</a></li>
                        <li><a href="tvshows.html">TV Shows</a></li>
                        <li><a href="mylist.html">My List</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Support</h3>
                    <ul>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Device Support</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="#">Terms of Service</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Cookie Policy</a></li>
                        <li><a href="#">Content Guidelines</a></li>
                    </ul>
                </div>
            </div>
            <div class="social-links">
                <a href="#" class="glow-effect"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="glow-effect"><i class="fab fa-twitter"></i></a>
                <a href="#" class="glow-effect"><i class="fab fa-instagram"></i></a>
                <a href="#" class="glow-effect"><i class="fab fa-youtube"></i></a>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 CineView. All rights reserved.</p>
        </div>
    </footer>

    <!-- Sample Data for Offline Mode -->
    <script src="src/data/sample-movies.js"></script>
    
    <!-- Local Data Service (Replaced TMDB API) -->
    <script src="src/scripts/local-data-service.js"></script>
    <script src="src/scripts/user-manager.js"></script>
    <script src="src/scripts/auth.js"></script>
    <script src="src/scripts/profiles.js"></script>
    <script src="src/scripts/mylist.js"></script>
    <script src="src/scripts/theme.js"></script>

    <!-- JavaScript -->
    <script>
        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
        
        // Mobile menu toggle
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const navLinks = document.querySelector('.nav-links');
        
        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', function() {
                navLinks.classList.toggle('active');
            });
        }
        
        // Notification show/hide
        setTimeout(() => {
            document.querySelector('.notification').classList.add('show');
            
            // Auto hide after 5 seconds
            setTimeout(() => {
                document.querySelector('.notification').classList.remove('show');
            }, 5000);
        }, 3000);
        
        // Notification close button
        document.querySelector('.notification-close').addEventListener('click', function() {
            document.querySelector('.notification').classList.remove('show');
        });
        

    </script>
</body>
</html> 